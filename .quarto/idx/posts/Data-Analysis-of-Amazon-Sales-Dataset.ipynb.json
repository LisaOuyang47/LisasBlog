{"title":"Sentiment Analysis in NLP of Amazon Sales Data Project","markdown":{"yaml":{"title":"Sentiment Analysis in NLP of Amazon Sales Data Project","description":"Final Project for DH140","author":"Shiqi Ouyang","date":"03/06/2023","date-modified":"03/20/2023"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\n### Description\nThis Amazon sales dataset contains review and rating information for over a thousand products. In the dataset, product IDs, names, categories, product descriptions, links to product photos and links to their official websites are listed; various prices (before discount, after discount and discount percentage) are also provided; finally, users' ratings and reviews of the products they purchased, including their personal information (IDs and names) are also available in this dataset. This project will mainly focus on further analysis of the content and ratings of the customer's reviews. Although this project is mainly conducted with Natural Language Processing (NLP), it will be more centered on one of the NLP techniques: sentiment analysis.\n\n  \n### Research Questions\n\nBased on the data set and my interests, I decided to focus my interest in solving the following problems:\n\n- **Price & Rating**\n\n*a. What is the relationship between product price and user rating? b. Does discounting boost customers' consumption as well as ratings?*\n\n- **Natural Language Processing (NLP)**\n\n*a. Which words are most frequently used by users in review titles and content?*\n\n- **Sentiment Analysis**\n\n*a. What is the overall sentiment of users about the product in the dataset? Which words are used most often in negative/positive reviews?*\n\n*b. Is there a positive relationship between emotions and ratings? If not, why?*\n\n\n# Data Preparation\n\n## Data Overview\nBased on a simple inspection of the dataset, I found that this dataset has a total of 1465 product records with 16 columns. All of these columns are marked as object, which is incorrect for some of these columns. In addition, I found that there are missing data in the \"rating\" column of the dataset. And there are unknown characters in the \"discounted_price\" and \"actual_price\" columns.\nI will then focus on these issues in the following data cleaning and preprocessing.\n\n##### 1. Remove missing data\n\n##### 2. Remove unnecessary chars and convert the data type of 'prices,' 'rating,' 'rating_count,' and 'discount_percentage' to numeric data type\n\n##### 3. Drop row(s) that has unvalid value(s)\n\n##### 4. Drop duplicate values\n\n##### 5. Summary statistics of the dataset\n\n# Data Analysis & Data Visualizations\n\n## Price & Rating\n### a. What is the relationship between discount price and user rating?\n\n### Analytical Process of Visualizations 1.1\n\nTo better analyze the various data within each product category, I first created a new dataset, grouped by different product categories, containing average discount prices, average discount percentages, and average ratings.\nThe visualization above is the scatter plot of the relationship between the mean rating of products of each product category and their mean discount percentage. The size is represented by the total number of the products in correspounding category; the color is based on different product categories. Since there are some categories have only less than 10 products, which is hard to be seen in the graph, I manually adjust the size_max to make them more easier to see.  \n\n\n### Finding \n\nFirst, from the visualization, we can clearly see that categories \"Home&Kitchen,\" \"Electronics,\" and \"Computers&Accesories\" are the top three categories that have the most products belong to them; where category \"Electronics\" has the most products in this dataset. Except for the \"Office Products\" and \"Toys & Games\" categories in the lower right corner, we can see that the remaining product categories basically follow the same pattern of the higher the rating, the higher the percentage of discounts. Similarly, when we focus on just the three product categories with the largest representation (as the others are less representative), we notice essentially the same pattern. Although the rating gap in the data is not very significant, we in turn would be able to conclude that the level of product discount has a positive impact on the user's rating of the product to some extent, i.e. the higher the discount, the higher the rating. \n\n## Natural Language Processing (NLP)\n### a. Which words are most commonly used by users in their review title and content?\n\n##### 1. Tokenization\n\n##### 2. Remove Stopwords\n\n##### 3. Stemming and Tagging\n\n##### 4. Word frequencies\n\n##### 5. Visualization of word frequencies\n\n### Analytical Process of Visualizations 2.1\n\nFirst I conducted natural language processing: tokenization, stopwords removal, stemming, and tagging for all review titles and content in the dataset in order to obtain a clean text for all titles and content. Then I created two new datasets based on the frequency of words in the review titles and content, including each individual word and its corresponding total frequency of occurrence. I then further exam their standard deviation. Finally, I visualized the top 15 words in terms of frequency.\n\n \n### Finding\n\nIn the review title plot, we can get a rough idea of the user's attitude towards the product, i.e. which aspects of performance/attributes are important to the user. The most frequent words we see are 'good', followed by 'product,' 'nice,' ' quality,' 'money,' 'best,' and 'value.' Based on these words, we can in fact get a approximately understand that the customer reviews of the products in this dataset are generally positive; and that the customers pay more attention to the quality and price of the products and the value between them. \n\nIn the content of the reviews we can expect the same conclusions, only with more description of the product. Besides the first few words 'good,' 'product,' and 'quality' which are virtually the same as in the titles of the reviews we see the words 'use,' 'cable,' and 'phone,' which allows us to learn that the majority of products and user purchases in this dataset are electronically related, in line with the the popular product categories we found earlier.\n\nFinally, looking at the number of standard deviations for review titles and review contents, which are around 74.3 and 69.3, respectively, they are both very high. Since the standard deviation is a measure of the dispersion of the data in terms of the mean, we can say that the word frequencies of the review titles and contents are very dispersed. \n\n## Sentiment Analysis\n### a. What is the overall sentiment of users review in the dataset?\n\n\n### Analytical Process of Visualizations 3.1\n\nFor the sentiment analysis, I mainly used SentimetnIntensityAnalyzer from the vader analysis package. After defining a function that would get the sentiment of each product review, I then created a new dataset with product reviews, ratings, categories and sentiment compound scores. Further I created sub-datasets of the top four product categories based on their popularity for visualization purposes. Subsequently I created visualizations based on the counts of their sentiment compound scores. Only the sentiment scores from 0-1.0 are shown in the graph, but the visualization of the negative sentiment scores can be obtained by dragging the horizontal axis with the mouse.\n\n### Finding\n\nSure enough, as we predicted earlier, most products fall into the range of 0.9-1.0 sentiment scores. This not only proves that customer satisfaction with the products is generally high, but also further demonstrates the limitations of this dataset. It is possible that due to the overall small number of products, the results are not very differentiated and may also be relatively unrepresentative. However, in general, the overall customer review sentiment in this dataset is relatively very positive.\n\n\n### b. Which words are used most often in negative/positive reviews？\n\n### Analytical Process of Visualizations 3.2\n\nBased on the analysis in the previous section, I went a step further and generated word clouds in the negative and positive review content based on the sentiment scores. Since most of the comments were classified as positive, here I used 0.5 and -0.5 as the dividing line between negative and positive to better show the difference/similarity between them.\n \n### Finding\n\nBased on the positive word cloud content, as in the previous review content word frequency distribution plot, we saw many positive words. Not only are customers satisfied with the quality of the product itself, we also capture words such as 'time’ and 'Amazon,' which could be a side indication that customers are reacting positively to values such as the quality of the product, and we can speculate that they are also satisfied with Amazon as platform itself, as well as the delivery time.\n\nIn the negative rating content we unusually observed a high frequency of the word \"good\". Although most of the words are related to positive content, we can infer that they occur in a different context than the previous word cloud based on the negative sentiment scores. This means that although vader marks some comments as negative, remembering that most of the comments in this dataset are very positive, there is an inevitable problem of under-representation in presenting negative word clouds. As a whole, we can deduce that in negative reviews, customers are likely to set the overall tone of the review as ‘good,' i.e. they would write comments like \"this product is good, but xxx,\" and the word ‘but' is usually more appealing to machine sentiment recognition systems. That is, in addition to the obvious comment about a product being bad/poor, a customer may feel good about the quality of the product in general, but be dissatisfied with some specific aspects, such as \"service,\" or \"installation,\" and therefore be rated as a negative comment.\n\n\n### c. Is there a correlation  between sentiments and ratings?\n\n### Analytical Process of Visualizations 4.1\n\nIn the last section, I made a visualization based on sentiment and rating scales to represent the relationship between them. I mainly wanted to know if there is a positive correlation between the customers' ratings and their review sentiment. In addition, I calculated the correlation coefficient using Numpy's corrcoef() function, which allowed me to better understand the exact relationship between the two variables. This function will return a matrix of correlation coefficients, where correlation[0][1] and [1][1] represent the correlation between sentiment and reviews.\n\n\n### Finding\n\nFirst of all, from the plot, it's clear that this doesn't have a clue, with most of the data scattered between ratings of 3.0-4.5, and sentiment doesn't seem to make a difference to the ratings, especially between sentiment scores of 0.5-1.0, with ratings unevenly distributed from 2.5 all the way up to 5.0. And looking at the correlation coefficient, we got a value of about 0.2. This number is very close to 0, which means that it does not represent any correlation. As a result from here we can confidently conclude that the sentiment scores and customer ratings in this dataset do not have a significant correlation.\n\nThis turned out to be different than what I thought when I first obtained the dataset, but then as I explored this dataset in depth, I did have hypotheses about how we might not get representative and meaningful results in terms of the relationship between the review sentiment scores and the ratings. There are two reasons for this, firstly, most of our sentiment scores lean towards a very positive range and the ratings are also concentrated between 3.4-4.5 which in effect causes these two sets of data spread evenly across these ranges and therefore it is likely that we will not get a significant correlation; secondly, as mentioned earlier, the overall amount of data in this dataset is small and there is an ontological bias.\n\nNevertheless, we could still get some slightly meaningful information from the plot. For instance, in the Computers&Accessories category, its product rating stays above 3.25 regardless of the customer's review sentiment score, which also applies to the Office Products category, while the two remaining product categories with a large representation \"Home & Kitchen\" and \"Electroncs\" have a much wider (and lower) range of ratings. \n\n# Discussion\n\nBased on all the above analysis and visualizations, we can conclude in general that: a) in the relationship between discount levels and customer ratings, we observe a positive relationship, i.e., when a product has a larger percentage of discount, in general the customer feedback rating for that product is higher; b) When customers write review titles and content, they tend to focus on product quality, value, and price, and will judge whether a product is worth buying in between. Also, customers buy more products related to electronics, such as chargers, cables, TVs, and cell phones; c) The overall sentiment of customer reviews in this dataset is positive, with an extreme leftward skew across the dataset; d) In positive reviews, customers often use positive adjectives to describe the quality of the product, and they are also more concerned about delivery. Whereas positive descriptions of the product also appear in the negative reviews, we speculate that customers in fact also expressed concerns about the installation, usage time and service of the product. This is where the python sentiment analyzer falls short; e) Finally, as the scatter plot shows, for this dataset there is no meaningful correlation between the sentiment of customer reviews and customer ratings.\n\nThese findings are useful and meaningful to some extent. For example, I found a positive relationship between discounts and ratings, which can provide insights for merchants when developing their pricing strategies. In addition, I further explored the sentiment score of customer reviews, which can help Amazon merchants predict customer behavior and demand for specific products, making the new products more adaptable. Additionally, based on customer reviews, it can also provide insights to Amazon merchants when providing customer service, customer interactions, developing customer preference reports, and stabilizing their customer base.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"output-file":"Data-Analysis-of-Amazon-Sales-Dataset.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.335","theme":"cosmo","title-block-banner":true,"title":"Sentiment Analysis in NLP of Amazon Sales Data Project","description":"Final Project for DH140","author":"Shiqi Ouyang","date":"03/06/2023","date-modified":"03/20/2023"},"extensions":{"book":{"multiFile":true}}}}}